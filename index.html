<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>Truck Planner Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <link rel="stylesheet" href="style.css" />

  <!-- Leaflet CSS (kaart) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
</head>
<body>
  <div id="app">
    <!-- HEADER VOOR DAG-NAVIGATIE (alleen in lijst-view zichtbaar) -->
    <header id="day-header" class="top-bar">
      <button id="prev-day-btn" class="nav-btn"></button>

      <div class="day-label-wrapper">
        <div id="day-context-label" class="day-context-label"></div>
        <div id="day-label" class="day-label">20-11-2025</div>
      </div>

      <button id="next-day-btn" class="nav-btn"></button>
    </header>

    <!-- HEADER VOOR TRUCK-NAVIGATIE (alleen in detail-view zichtbaar) -->
    <header id="truck-header" class="top-bar detail-top-bar hidden">
      <button id="prev-truck-btn" class="nav-btn"></button>
      <div id="truck-header-label" class="day-label">Truck 1 - 20-11-2025</div>
      <button id="next-truck-btn" class="nav-btn"></button>
      <button id="delete-truck-btn" class="danger-btn">Verwijder</button>
    </header>

    <!-- VIEW 1: Vrachtwagens lijst (agenda) -->
    <main id="truck-list-view" class="view active-view">
      <div class="truck-list-container">
        <div id="truck-list" class="truck-list">
          <!-- Trucks worden via JS toegevoegd -->
          <button id="add-truck-btn" class="add-truck-btn">+</button>
        </div>
      </div>
    </main>

    <!-- VIEW 2: Vrachtwagen detail (truck + slots + orders) -->
    <main id="truck-detail-view" class="view">
      <div class="detail-page">
        <header class="detail-header">
          <div class="detail-header-left">
            <button id="back-to-list-btn" class="nav-btn">‚Üê Terug</button>
          </div>
          <div class="detail-header-right">
            <button id="open-map-btn" class="nav-btn map-btn">
              üó∫Ô∏è Kaart
            </button>
          </div>
        </header>

        <section class="detail-content">
          <!-- Truck + slots links -->
          <div class="slots-container">
            <div class="truck-visual">
              <div class="detail-truck-roof"></div>
              <div class="truck-label-front">Voorkant</div>
              <div id="slots-grid" class="slots-grid">
                <!-- Slots via JS -->
              </div>
              <div class="truck-label-back">Achterkant</div>
              <!-- + Truck onderaan huidige truck -->
              <button
                id="add-capacity-btn"
                type="button"
                style="
                  margin-top: 8px;
                  width: 100%;
                  padding: 8px 0;
                  border-radius: 12px;
                  border: none;
                  background: #30c48c;
                  color: #ffffff;
                  font-size: 14px;
                  font-weight: 600;
                  cursor: pointer;
                "
              >
                + Truck
              </button>
            </div>
          </div>

          <!-- Orders rechts -->
          <aside class="orders-panel">
            <h3>Beschikbare orders</h3>
            <p class="orders-hint">
              Klik een order en daarna een leeg vak.<br />
              Klik op een gevuld vak om de order terug te zetten.<br />
              Klik op een leeg vak zonder order om de vorm (vierkant/rechthoek)
              te kiezen.<br />
              Klik twee keer op dezelfde vrije order om details (tabel) te
              bekijken.
            </p>
            <ul id="orders-list" class="orders-list">
              <!-- orders via JS -->
            </ul>
          </aside>
        </section>
      </div>
    </main>

    <!-- OVERLAY: Order details (tabel) -->
    <div id="order-detail-overlay" class="order-detail-overlay hidden">
      <div class="order-detail-card">
        <h3>Order details</h3>
        <div id="order-detail-meta" class="order-detail-meta"></div>

        <div class="order-detail-table-wrapper">
          <table class="order-detail-table">
            <thead>
              <tr>
                <th>Artikelnummer</th>
                <th>Omschrijving</th>
                <th>Aantal dozen</th>
                <th>Pallets</th>
              </tr>
            </thead>
            <tbody id="order-detail-body"></tbody>
          </table>
        </div>

        <button
          id="order-detail-close"
          class="nav-btn order-detail-close-btn"
        >
          Sluit
        </button>
      </div>
    </div>

    <!-- OVERLAY: Kaart -->
    <div id="map-overlay" class="map-overlay hidden">
      <div class="map-card">
        <h3>Kaart ‚Äì Nederland</h3>
        <div class="map-container">
          <div id="nl-map" style="width: 100%; height: 100%"></div>
        </div>
        <button id="map-close-btn" class="nav-btn order-detail-close-btn">
          Sluit
        </button>
      </div>
    </div>

    <!-- OVERLAY: Aantal pallet-plekken voor order -->
    <div id="slot-count-overlay" class="slot-count-overlay hidden">
      <div class="slot-count-card">
        <div class="slot-count-title">Aantal pallets</div>
        <div class="slot-count-sub">
          Kies hoeveel pallet-plekken deze order moet innemen (aaneengesloten
          vakken vanaf de gekozen positie).
        </div>

        <!-- ‚¨á NIEUW: hint met maximale pallets -->
        <div id="slot-count-max" class="slot-count-max-hint"></div>

        <div class="slot-count-input-row">
          <button
            id="slot-count-decrease"
            class="slot-count-step"
            type="button"
          >
            ‚àí
          </button>
          <input
            id="slot-count-input"
            type="number"
            min="1"
            value="1"
            inputmode="numeric"
          />
          <button
            id="slot-count-increase"
            class="slot-count-step"
            type="button"
          >
            +
          </button>
        </div>

        <div class="slot-count-actions">
          <button
            id="slot-count-cancel"
            class="slot-count-cancel"
            type="button"
          >
            Annuleer
          </button>
          <button
            id="slot-count-confirm"
            class="slot-count-confirm"
            type="button"
          >
            Bevestig
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- SLOT COUNT OVERLAY -->
<div id="slot-count-overlay" class="slot-count-overlay hidden">
  <div class="slot-count-card">
    ... inhoud van pallet overlay ...
  </div>
</div>

<!-- SHAPE OVERLAY (VERPLAATST!) -->
<div id="shape-overlay" class="shape-overlay hidden">
  <div class="shape-card">
    <div class="shape-title">Vorm van pallet-vak</div>
    <div class="shape-sub">Kies de vorm van het vak.</div>

    <div class="shape-options">
      <button id="shape-square-btn" class="shape-option">
        <div class="shape-demo shape-demo-square"></div>
        <span>Vierkant</span>
      </button>

      <button id="shape-rect-btn" class="shape-option">
        <div class="shape-demo shape-demo-rect"></div>
        <span>Rechthoek</span>
      </button>
    </div>

    <div class="shape-actions">
      <button id="shape-cancel-btn" class="shape-cancel-btn">Annuleer</button>
    </div>
  </div>
</div>


  <!-- Leaflet JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <script src="app.js"></script>
</body>
</html>